{"version":3,"sources":["services/notes.js","pages/Task.js","services/login.js","pages/Login.js","pages/Home.js","pages/User.js","pages/Register.js","services/tasks.js","index.js"],"names":["baseUrl","token","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","setToken","newToken","handleNewNote","event","loggedUserJSON","window","localStorage","getItem","JSON","parse","logUser","console","log","username","noteService","task","target","value","user","handleNoteDelete","Tasks","tasks","notes","notesId","map","note","Table","striped","bordered","hover","includes","_id","class","onClick","title","difficulty","login","credentials","Login","props","history","useHistory","useState","setUsername","password","setPassword","setUser","setErrorMessage","handleLogin","preventDefault","loginService","setItem","stringify","onLogin","push","setTimeout","className","onSubmit","type","onChange","placeholder","id","href","Home","User","handleRegister","Register","email","setEmail","password1","setPassword1","password2","setPassword2","App","setTasks","setNotes","useEffect","taskService","getFunction","filter","note2","getData","padding","handleLogout","enevt","removeItem","Navbar","collapseOnSelect","expand","bg","variant","Toggle","aria-controls","Collapse","Nav","Link","as","style","to","path","Task","ReactDOM","render","document","getElementById"],"mappings":"uMACMA,EAAU,aAEZC,EAAQ,KAoBG,GAACC,OAfD,WAEb,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAanBC,OAVZ,uCAAG,WAAMC,GAAN,iBAAAC,EAAA,6DACPC,EAAS,CACbC,QAAS,CAAEC,cAAeZ,IAFf,SAKUE,IAAMW,KAAKd,EAASS,EAAWE,GALzC,cAKPL,EALO,yBAMNA,EAASC,MANH,2CAAH,sDAUoBQ,SAnBf,SAAAC,GACff,EAAK,iBAAae,K,OCDdC,EAAa,uCAAG,WAAOC,GAAP,iBAAAR,EAAA,6DACdS,EAAiBC,OAAOC,aAAaC,QAAQ,qBAD/B,SAEEC,KAAKC,MAAML,GAFb,cAEdM,EAFc,OAGpBC,QAAQC,IAAIT,GACZQ,QAAQC,IAAIF,EAAQG,UACpBC,EAAYd,SAASU,EAAQxB,OALT,SAMD4B,EAAYrB,OAAO,CACpCsB,KAAMZ,EAAMa,OAAOC,MACnBC,KAAMR,EAAQG,WARI,0DAAH,sDAYbM,EAAgB,uCAAG,WAAOhB,GAAP,SAAAR,EAAA,sDACvBgB,QAAQC,IAAIT,GADW,2CAAH,sDA8CPiB,EA1CD,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,MAAMC,EAAgB,EAAhBA,MAAMJ,EAAU,EAAVA,KACpBK,EAAUD,EAAME,KAAI,SAAAC,GAAI,OAAIA,EAAKV,QAEvC,OACA,gCACE,gDACA,eAACW,EAAA,EAAD,CAAOC,SAAO,EAACC,UAAQ,EAACC,OAAK,EAA7B,UACE,gCACE,+BACGX,EAAO,6CAAuB,GAC/B,+CACA,iDAGJ,gCAEGG,EAAMG,KAAI,SAAAT,GAAI,OACb,+BACGG,EAAO,8BACR,6BACGK,EAAQO,SAASf,EAAKgB,KACrB,gCAAK,sBAAMC,MAAM,iCAAZ,wBACP,wBAAQf,MAAOF,EAAKgB,IAAKE,QAASd,EAAkBa,MAAM,qBAA1D,gCACE,gCAAK,sBAAMA,MAAM,mCAAZ,2BACP,wBAAQf,MAAOF,EAAKgB,IAAKE,QAAS/B,EAAe8B,MAAM,sBAAvD,sCAEO,GACT,6BACGjB,EAAKmB,QAER,6BACGnB,EAAKoB,eAdDpB,EAAKgB,iB,OC7BT,GAAEK,MALN,uCAAG,WAAMC,GAAN,eAAA1C,EAAA,sEACWP,IAAMW,KAHf,aAG6BsC,GAD/B,cACN9C,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDCkEI8C,EA7DD,SAACC,GACb,IAAMC,EAAUC,cAEhB,EAAgCC,mBAAS,IAAzC,mBAAO7B,EAAP,KAAiB8B,EAAjB,KACA,EAAgCD,mBAAS,IAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EAAwBH,mBAAS,MAAjC,mBAAaI,GAAb,WACA,EAAwCJ,mBAAS,MAAjD,mBAAqBK,GAArB,WAKMC,EAAW,uCAAG,WAAO7C,GAAP,eAAAR,EAAA,6DAClBQ,EAAM8C,iBADY,kBAGGC,EAAad,MAAM,CACpCvB,WAAU+B,aAJI,OAGV1B,EAHU,OAMhBb,OAAOC,aAAa6C,QAClB,oBAAqB3C,KAAK4C,UAAUlC,IAEtC4B,EAAQ5B,GACRyB,EAAY,IACZE,EAAY,IACZN,EAAMc,QAAQxC,GACd2B,EAAQc,KAAK,KAbG,kDAehBP,EAAgB,qBAChBQ,YAAW,WACTR,EAAgB,QACf,KAlBa,0DAAH,sDAwBjB,OACE,gCACE,uBAAMS,UAAU,YAAYC,SAAUT,EAAtC,UACE,sBAAKQ,UAAU,aAAf,UACE,6CACA,uBAAOE,KAAK,OAAOF,UAAU,eAAevC,MAAOJ,EAAU8C,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgB2B,EAAY3B,EAAOC,QAAQ2C,YAAY,gBAEhI,sBAAKJ,UAAU,aAAf,UACE,6CACA,uBAAOE,KAAK,WAAWF,UAAU,eAAevC,MAAO2B,EAAUe,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgB6B,EAAY7B,EAAOC,QAAQ2C,YAAY,gBAEpI,sBAAKJ,UAAU,aAAf,UACE,uBAAOE,KAAK,WAAWF,UAAU,mBAAmBK,GAAG,kBACvD,uBAAOL,UAAU,mBAAjB,4BAIF,wBAAQE,KAAK,SAASF,UAAU,kBAAhC,sBAEF,qBAAKA,UAAU,qBACf,mBAAGA,UAAU,gBAAgBM,KAAK,YAAlC,sCACA,mBAAGN,UAAU,gBAAgBM,KAAK,IAAlC,kCCvDSC,EAPF,kBACX,gCACE,oDACA,yECWWC,EAdF,SAAC,GAAa,IAAZ1C,EAAW,EAAXA,MAEb,OADAX,QAAQC,IAAIU,GAEZ,gCACE,gDACA,+BACE,kDACA,iDACA,oDCRA2C,EAAiB,SAAC9D,KAmCT+D,EA/BE,SAAC3B,GAChB,MAAgCG,mBAAS,IAAzC,mBAAO7B,EAAP,KAAiB8B,EAAjB,KACA,EAA0BD,mBAAS,IAAnC,mBAAOyB,EAAP,KAAcC,EAAd,KACA,EAAkC1B,mBAAS,IAA3C,mBAAO2B,EAAP,KAAkBC,EAAlB,KACA,EAAkC5B,mBAAS,IAA3C,mBAAO6B,EAAP,KAAkBC,EAAlB,KAEA,OACE,8BACE,uBAAMhB,UAAU,YAAYC,SAAUQ,EAAtC,UACE,sBAAKT,UAAU,aAAf,UACE,0DACA,uBAAOE,KAAK,OAAOF,UAAU,eAAevC,MAAOJ,EAAU8C,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgB2B,EAAY3B,EAAOC,QAAQ2C,YAAY,6BAEhI,sBAAKJ,UAAU,aAAf,UACE,qDACA,uBAAOE,KAAK,QAAQF,UAAU,eAAevC,MAAOkD,EAAOR,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgBoD,EAASpD,EAAOC,QAAQ2C,YAAY,wBAE3H,sBAAKJ,UAAU,aAAf,UACE,6CACA,uBAAOE,KAAK,WAAWF,UAAU,eAAevC,MAAOoD,EAAWV,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgBsD,EAAatD,EAAOC,QAAQ2C,YAAY,gBAEtI,sBAAKJ,UAAU,aAAf,UACE,sDACA,uBAAOE,KAAK,WAAWF,UAAU,eAAevC,MAAOsD,EAAWZ,SAAU,gBAAG3C,EAAH,EAAGA,OAAH,OAAgBwD,EAAaxD,EAAOC,QAAQ2C,YAAY,yBAEtI,wBAAQF,KAAK,SAASF,UAAU,kBAAhC,mCCjBO,EANA,WAEb,OADgBpE,IAAMC,IARR,cASCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,S,yCCcrCiF,EAAM,WACV,MAA0B/B,mBAAS,IAAnC,mBAAOrB,EAAP,KAAcqD,EAAd,KACA,EAAwBhC,mBAAS,MAAjC,mBAAOxB,EAAP,KAAa4B,EAAb,KACA,EAA0BJ,mBAAS,IAAnC,mBAAOpB,EAAP,KAAcqD,EAAd,KAEAC,qBAAW,WAAM,4CACf,4BAAAjF,EAAA,sEACsBkF,IADtB,OACQxD,EADR,OAEEqD,EAAUrD,GAFZ,4CADe,uBAAC,WAAD,wBAKfyD,KACC,IAGHF,qBAAU,WAAM,4CACd,kCAAAjF,EAAA,2DACQS,EAAiBC,OAAOC,aAAaC,QAAQ,sBADrD,iCAG0BC,KAAKC,MAAML,GAHrC,cAGUM,EAHV,OAIIoC,EAAQpC,EAAQG,UAJpB,SAKwBC,EAAY3B,SALpC,cAKUmC,EALV,iBAMwBA,EAAMyD,QAAO,SAAAtD,GAAI,OAAIA,EAAKP,KAAKL,WAAaH,EAAQG,YAN5E,QAMUmE,EANV,OAOIL,EAASK,GAPb,6CADc,uBAAC,WAAD,wBAWdC,KACC,IAEHtE,QAAQC,IAAIM,EAAKG,EAAMC,GACvB,IAIM4D,EAAU,CACdA,QAAS,GAGLC,EAAe,SAACC,GACpB/E,OAAOC,aAAa+E,WAAW,qBAC/BvC,EAAQ,MACR6B,EAAS,KAOX,OACE,gCACA,eAAC,IAAD,WACE,eAACW,EAAA,EAAD,CAAQC,kBAAgB,EAACC,OAAO,KAAKC,GAAG,OAAOC,QAAQ,OAAvD,UACE,cAACJ,EAAA,EAAOK,OAAR,CAAeC,gBAAc,0BAC7B,cAACN,EAAA,EAAOO,SAAR,CAAiBhC,GAAG,wBAApB,SACE,eAACiC,EAAA,EAAD,CAAKtC,UAAU,UAAf,UACE,cAACsC,EAAA,EAAIC,KAAL,CAAUjC,KAAK,IAAIkC,GAAG,OAAtB,SACE,cAAC,IAAD,CAAMC,MAAOf,EAASgB,GAAG,IAAzB,oBAEF,cAACJ,EAAA,EAAIC,KAAL,CAAUjC,KAAK,IAAIkC,GAAG,OAAtB,SACE,cAAC,IAAD,CAAMC,MAAOf,EAASgB,GAAG,QAAzB,8BAEF,cAACJ,EAAA,EAAIC,KAAL,CAAUjC,KAAK,IAAIkC,GAAG,OAAtB,SACE,cAAC,IAAD,CAAMC,MAAOf,EAASgB,GAAG,QAAzB,wBAEF,cAACJ,EAAA,EAAIC,KAAL,CAAUjC,KAAK,QAAQkC,GAAG,OAA1B,SACG9E,EACG,+BAAKA,EAAL,cArBd,wBAAQe,QAASkD,EAAjB,uBAsBc,cAAC,IAAD,CAAMe,GAAG,SAAT,6BAOZ,eAAC,IAAD,WAEE,cAAC,IAAD,CAAOC,KAAK,QAAZ,SACE,cAACC,EAAD,CAAM/E,MAAOA,EAAOC,MAAOA,EAAOJ,KAAMA,MAE1C,cAAC,IAAD,CAAOiF,KAAK,QAAZ,SACGjF,EAAO,cAAC,EAAD,CAAMI,MAAOA,IAAY,cAAC,IAAD,CAAU4E,GAAG,aAEhD,cAAC,IAAD,CAAOC,KAAK,SAAZ,SACE,cAAC,EAAD,CAAO9C,QArDD,SAACnC,GACb4B,EAAQ5B,QAsDJ,cAAC,IAAD,CAAOiF,KAAK,YAAZ,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOA,KAAK,IAAZ,SACE,cAAC,EAAD,YAIJ,gCACE,uBACA,mEAMRE,IAASC,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.c46683d0.chunk.js","sourcesContent":["import axios from \"axios\"\nconst baseUrl = '/api/notes'\n\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = async newObject => {\n  const config = {\n    headers: { Authorization: token },\n  }\n\n  const response = await axios.post(baseUrl, newObject, config)\n  return response.data\n}\n\n\nexport default {getAll, create, setToken}","import React from 'react'\nimport { Table } from 'react-bootstrap'\nimport noteService from '../services/notes'\n\nconst handleNewNote = async (event) => {\n  const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n  const logUser = await JSON.parse(loggedUserJSON)\n  console.log(event)\n  console.log(logUser.username)\n  noteService.setToken(logUser.token)\n  const note = await noteService.create({\n    task: event.target.value,\n    user: logUser.username\n  })\n}\n\nconst handleNoteDelete = async (event) => {\n  console.log(event)\n}\n\nconst Tasks = ({tasks,notes,user}) => {\n  const notesId = notes.map(note => note.task)\n\n  return (\n  <div>\n    <h2>Teht채v채t</h2>\n    <Table striped bordered hover>\n      <thead>\n        <tr>\n          {user ? <th>Suoritukset</th> : '' }\n          <th>Teht채v채</th>\n          <th>Haastavuus</th>\n        </tr>\n      </thead>\n      <tbody>\n        \n        {tasks.map(task =>\n          <tr key={task._id}>\n            {user ? <div>\n            <td>\n              {notesId.includes(task._id) \n              ? <div><span class=\"badge badge-pill badge-success\">Suoritettu</span> \n              <button value={task._id} onClick={handleNoteDelete} class=\"badge badge-danger\">poista suoritus</button></div>\n              : <div><span class=\"badge badge-pill badge-secondary\">Ei suoritettu</span>\n              <button value={task._id} onClick={handleNewNote} class=\"badge badge-primary\">Merkitse suoritus</button></div>}\n            </td>\n            </div> : ''}\n            <td>\n              {task.title}\n            </td>\n            <td>\n              {task.difficulty}\n            </td>\n            \n          </tr>\n        )}\n      </tbody>\n    </Table>\n  </div>\n  )\n}\n\nexport default Tasks","import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React, {useState, useEffect} from 'react'\nimport {\n  useHistory\n} from \"react-router-dom\"\nimport loginService from '../services/login'\n\n\n\nconst Login = (props) => {\n  const history = useHistory()\n\n  const [username, setUsername] = useState('') \n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n\n  \n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n      window.localStorage.setItem(\n        'loggedBlogappUser', JSON.stringify(user)\n      ) \n      setUser(user)\n      setUsername('')\n      setPassword('')\n      props.onLogin(username)\n      history.push('/')\n    } catch (exception) {\n      setErrorMessage('wrong credentials')\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n    }\n  }\n\n\n\n  return (\n    <div>\n      <form className=\"px-4 py-3\" onSubmit={handleLogin}>\n        <div className=\"form-group\">\n          <label>Username</label>\n          <input type=\"text\" className=\"form-control\" value={username} onChange={({ target }) => setUsername(target.value)} placeholder=\"Username\"/>\n        </div>\n        <div className=\"form-group\">\n          <label >Password</label>\n          <input type=\"password\" className=\"form-control\" value={password} onChange={({ target }) => setPassword(target.value)} placeholder=\"Password\"/>\n        </div>\n        <div className=\"form-check\">\n          <input type=\"checkbox\" className=\"form-check-input\" id=\"dropdownCheck\"/>\n          <label className=\"form-check-label\">\n            Remember me\n          </label>\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Login</button>\n      </form>\n      <div className=\"dropdown-divider\"></div>\n      <a className=\"dropdown-item\" href=\"/register\">New around here? Sign up</a>\n      <a className=\"dropdown-item\" href=\"#\">Forgot password?</a>\n  </div>\n  )\n}\n\nexport default Login","import React from 'react'\n\nconst Home = () => (\n  <div> \n    <h2>Aktiivinen Keppari</h2> \n    <p>Aktiivinen Keppari kilpailun etusivu</p> \n  </div>\n)\n\nexport default Home","import React from 'react'\n\nconst User = ({notes}) => {\n  console.log(notes)\n  return (\n  <div>\n    <h2>TKTL notes app</h2>\n    <ul>\n      <li>Matti Luukkainen</li>\n      <li>Juha Tauriainen</li>\n      <li>Arto Hellas</li>\n    </ul>\n  </div>\n  )\n}\n\nexport default User","import React, {useState, useEffect} from 'react'\n\nconst handleRegister = (event) => {\n  \n}\n\nconst Register = (props) => {\n  const [username, setUsername] = useState('')\n  const [email, setEmail] = useState('')\n  const [password1, setPassword1] = useState('')\n  const [password2, setPassword2] = useState('')\n\n  return (\n    <div>\n      <form className=\"px-4 py-3\" onSubmit={handleRegister}>\n        <div className=\"form-group\">\n          <label>K채ytt채j채nimi</label>\n          <input type=\"text\" className=\"form-control\" value={username} onChange={({ target }) => setUsername(target.value)} placeholder=\"K채ytt채j채nimi\" />\n        </div>\n        <div className=\"form-group\">\n          <label>S채hk철posti</label>\n          <input type=\"email\" className=\"form-control\" value={email} onChange={({ target }) => setEmail(target.value)} placeholder=\"S채hk철posti\" />\n        </div>\n        <div className=\"form-group\">\n          <label>Salasana</label>\n          <input type=\"password\" className=\"form-control\" value={password1} onChange={({ target }) => setPassword1(target.value)} placeholder=\"Salasana\" />\n        </div>\n        <div className='form-group'>\n          <label>Vahvista Salasana</label>\n          <input type=\"password\" className=\"form-control\" value={password2} onChange={({ target }) => setPassword2(target.value)} placeholder=\"Vahvista salasana\" />\n        </div>\n        <button type=\"submit\" className=\"btn btn-primary\">Rekister철idy</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Register","import axios from 'axios'\nconst baseUrl = '/api/tasks'\n\nlet token = null\nconst setToken = newToken => {\n  token = `bearer ${newToken}`\n}\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\n\nexport default { getAll, setToken }","import React, { useState, useEffect } from 'react'\n\nimport Task from './pages/Task'\nimport Login from './pages/Login'\nimport Home from './pages/Home'\nimport User from './pages/User'\nimport Register from './pages/Register'\n\n\nimport taskService from './services/tasks'\nimport noteService from './services/notes'\n\nimport ReactDOM from 'react-dom'\nimport {Navbar, Nav} from 'react-bootstrap'\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useParams,\n} from \"react-router-dom\"\n\n\nconst App = () => {\n  const [tasks, setTasks] = useState([])\n  const [user, setUser] = useState(null)\n  const [notes, setNotes] = useState([])\n  \n  useEffect( () => {\n    async function getFunction() {\n      const tasks = await taskService.getAll()\n      setTasks( tasks )\n    }\n    getFunction()\n  }, [])\n\n\n  useEffect(() => {\n    async function getData() {\n      const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\n      if (loggedUserJSON) {\n        const logUser = await JSON.parse(loggedUserJSON)\n        setUser(logUser.username)\n        const notes = await noteService.getAll()\n        const note2 = await notes.filter(note => note.user.username === logUser.username)\n        setNotes(note2)\n      }\n    }\n    getData()\n  }, [])\n\n  console.log(user,tasks,notes)\n  const login = (user) => {\n    setUser(user)\n  }\n\n  const padding = {\n    padding: 5\n  }\n\n  const handleLogout = (enevt) => {\n    window.localStorage.removeItem('loggedBlogappUser')\n    setUser(null)\n    setNotes([])\n  }\n  \n  const logout = () => (\n    <button onClick={handleLogout}>Logout</button>\n  )\n\n  return (\n    <div>\n    <Router>\n      <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\n        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n        <Navbar.Collapse id=\"responsive-navbar-nav\">\n          <Nav className=\"mr-auto\">\n            <Nav.Link href=\"#\" as=\"span\">\n              <Link style={padding} to=\"/\">Home</Link>\n            </Nav.Link>\n            <Nav.Link href=\"#\" as=\"span\">\n              <Link style={padding} to=\"/task\">Teht채v채t</Link>\n            </Nav.Link>\n            <Nav.Link href=\"#\" as=\"span\">\n              <Link style={padding} to=\"/user\">Oma sivu</Link>\n            </Nav.Link>\n            <Nav.Link href=\"/user\" as=\"span\">\n              {user\n                ? <em>{user} logged in {logout()}</em>\n                : <Link to=\"/login\">Login</Link>\n              }\n          </Nav.Link>\n          </Nav>\n        </Navbar.Collapse>\n      </Navbar>\n\n      <Switch>\n        \n        <Route path=\"/task\">\n          <Task tasks={tasks} notes={notes} user={user} />\n        </Route>\n        <Route path=\"/user\">\n          {user ? <User notes={notes} /> : <Redirect to=\"/login\" />}\n        </Route>\n        <Route path=\"/login\">\n          <Login onLogin={login} />\n        </Route>\n        <Route path=\"/register\">\n          <Register />\n        </Route>\n        <Route path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>      \n      <div>\n        <br />\n        <em>Sivujen toteutus: Mitavain</em>\n      </div>\n    </div>\n  )\n}\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n)"],"sourceRoot":""}